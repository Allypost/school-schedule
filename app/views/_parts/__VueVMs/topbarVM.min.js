var topbarVM=new Vue({el:".topbar",data:{notifications:[],notificationCount:0,notificationCountLoading:!1,notificationsLoading:!1},methods:{getListUrl:function(){return this.$el.dataset.notificationsList},getCountUrl:function(){return this.$el.dataset.notificationsCount},getData:function(){if(!this.notificationsLoading){var t=this,n=this.getListUrl();t.notificationsLoading=!0,$.get(n).done(function(n){var i=n.data;t.notifications=i,t.notificationCount=i?i.length:0,t.notificationsLoading=!1})}},getCount:function(){if(!this.notificationCountLoading){var t=this,n=this.getCountUrl();t.notificationCountLoading=!0,$.get(n).done(function(n){t.notificationCount=n.data.count,t.notificationCountLoading=!1})}},dropdownGet$:function(){return $(this.$refs.dropdown)},dropdownToggle:function(){var t=this,n=t.$refs.dropdown,i=t.$el.dataset.notificationsSeen,o={},a=getCsrf();return n.className.indexOf("active")<0?this.getData():(o[a.key]=a.value,void $.post(i,o).done(function(){t.notificationCount=0}))},dropdownRegister:function(){this.dropdownGet$().dropdown({inDuration:300,outDuration:225,constrain_width:!1,hover:!1,gutter:0,belowOrigin:!0,alignment:"right"})}},mounted:function(){var t=this;t.dropdownRegister(),$(".button-collapse").sideNav(),$(document).ready(function(){t.getData()})}});